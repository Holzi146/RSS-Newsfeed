<!DOCTYPE html>
<html lang="de">
    <head>
        <title>Newsfeed mit Node.js</title>
        <link rel="stylesheet" type="text/css" href="styles.css">
        
        <!-- JavaScript logic -->
        <script>
        function SendFunction(url)
        {
            var textbox = document.getElementById('tbx_input');
            
            if (textbox.value == "") {
                alert("Keinen Text eingegeben!");
                textbox.focus();
                return;
            }         
            textbox.value = "";
            textbox.focus();
                   
            /* Send the input to the Node server */

            var xmlhttp;
            if (window.XMLHttpRequest) {
                /* code for IE7+, Firefox, Chrome, Opera, Safari */
                xmlhttp = new XMLHttpRequest();
            } else {
                /* code for IE6, IE5 */
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            } 

            xmlhttp.open("POST", "http://127.0.0.1:8888", true);        
            xmlhttp.onreadystatechange = function() {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    document.getElementById('myDiv').innerHTML = xmlhttp.responseText;
                }
            }
            xmlhttp.send(url);
        }
        </script>
    </head>
    <body>
        <h1>Meine tolle Seite</h1>        
        <div>
            <input type="text" name="tbx_input" id="tbx_input">
            <input type="submit" value="Absenden" name="btn_send" onclick="SendFunction(document.getElementById('tbx_input').value)">  
        </div>
        <div id="myDiv"></div>
    </body>
</html>